<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{{dino}} Pictures - Dinosaur Picture Database</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pictures of {{dinos}}.">
    <!--
    <link href="/assets/css/bootstrap.css" rel="stylesheet">
    <link href="/assets/css/bootstrap-responsive.css" rel="stylesheet">
    -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <style>
      body {
        background: #b3b3b0;
        background: -moz-linear-gradient(top,#b3b3b0 0,#e3e2dd 500px);
        background: -webkit-linear-gradient(#b3b3b0 0,#e3e2dd 500px);
        background: -ms-linear-gradient(top,#b3b3b0 0,#e3e2dd 500px);
        background: linear-gradient(top,#b3b3b0 0,#e3e2dd 500px);
        background-color: #e3e2dd;
        background-repeat: no-repeat;

        margin-bottom: 40px;
      }

      .header {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;

        color: #fff;
        background-color: #404040;
        text-align: center;
        font-weight: bold;

        padding: 10px;
      }

      .header a {
        color: #fff;
      }

      .header a:hover {
        text-decoration: none;
      }

      .container {
        position: relative;

        {{! maybe someday: http://jsfiddle.net/zuul/mPnTP/ }}

        background-color: rgb(255, 255, 255);
        background-image: -webkit-linear-gradient(top, rgba(0, 0, 0, 0.298039) 0px, rgba(0, 0, 0, 0) 7px);
        box-shadow: 4px 0 2px -2px rgba(0,0,0,0.4), 0 4px 2px -2px rgba(0,0,0,0.4), -4px 0 2px -2px rgba(0,0,0,0.4);

        border-bottom-left-radius: 5px;
        border-bottom-right-radius: 5px;

        padding-top: 30px;
        padding-bottom: 20px;
      }

      .main-title {
        text-align: center;
        font-weight: bold;
      }

      .main-content {
        margin: 30px;
        font-size: 16px;
      }

      .main-content p {
        margin: 0 0 15px;
      }

      .pics {
        text-align: center;
      }

      .img-container {
        margin: 30px;
        position: relative;
        border: 1px solid #404040;
        min-height: 100px;
      }

      .img-container img {
        /*
        width: 100%;
        height: 100%;
        */
        max-width: 100%;
      }

      .report {
        color: #fff;
        background-color: #404040;
        padding: 5px;
        border-left: 1px solid #000;
        border-bottom: 1px solid #000;

        position: absolute;
        top: 0;
        right: 0;

        cursor: pointer;
      }

      .report :hover {
        background-color: #535353;
      }

      .featurevote {
        color: #fff;
        background-color: #404040;
        padding: 5px;
        border-right: 1px solid #000;
        border-bottom: 1px solid #000;

        position: absolute;
        top: 0;
        left: 0;

        cursor: pointer;
      }

      .featurevote :hover {
        background-color: #535353;
      }

      .save {
        color: #fff;
        background-color: #404040;
        padding: 5px;
        border-left: 1px solid #000;
        border-top: 1px solid #000;

        position: absolute;
        bottom: 0;
        right: 0;

        cursor: pointer;
      }

      .save:hover {
        background-color: #535353;
      }

      .save a {
        color: #fff;
      }

      .save a:hover {
        text-decoration: none;
      }

      .source {
        color: #fff;
        font-size: 10px;
        background-color: #404040;
        padding: 5px;
        border-right: 1px solid #000;
        border-top: 1px solid #000;

        position: absolute;
        bottom: 0;
        left: 0;

        width: 250px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .source a {
        color: #fff;
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <div class="container drop-shadow left right bottom">
      <div class="header">
        <a href="/">The Dinosaur Picture Database</a>
      </div>

      <h1 class="main-title">{{dino}} dinosaur pictures</h1>

      <div class="main-content">
        <div class="intro">
          <p>
          {{dino}} is a {{eats}}.  It lived in the {{period}} period and resided in {{regions}}.
          </p>
          <p>
          All these {{dino}} pictures were collected from the internet.  Credit goes to original creators and artists.  If you would like to add a picture, please <script>document.write('<a href="mailto:co' + 'nt' + String.fromCharCode(97) + 'ct@dinosaurpictures.org">email us</a>')</script> or use <a href="http://goo.gl/forms/B9rRB2O1wT">this form</a>.
          </p>
        </div>
        <ul>
          <li><strong><a href="/random">Random dinosaur</a></strong></li>
          <li><a href="/">View other dinosaurs</a></li>
          <li><a target="_blank" href="http://en.wikipedia.org/wiki/{{dino}}">Wikipedia page</a></li>
        </ul>
      </div>

      <div class="pics">
        {{#pics}}
        <div class="img-container" data-url="{{voting_url}}">
          {{#adminReview}}
            <div class="featurevote" data-url="{{voting_url}}">
              <i class="glyphicon glyphicon-check"></i>
            </div>
            <div class="report" data-url="{{voting_url}}">
              X
            </div>
          {{/adminReview}}
          <a href="{{clickthrough_url}}" target="_blank"><img src="http://i.imgur.com/Vmxsx1H.gif" data-src="{{url}}" /></a>
          <div class="source">
            <a target="_blank" href="{{source}}">Source</a>: {{source_display}}
          </div>
          <div class="save">
            <a href="{{url}}" download><i class="glyphicon glyphicon-save"></i> Save</a>
          </div>
        </div>
        {{/pics}}
      </div>

      <h4 style="text-align:center">
        <p>
          <strong>
          Next dinosaur:
          <a id="next-dino" href="/{{nextDino}}-dinosaur-pictures">{{ nextDino }}<!-- ({{count}} of {{total}}) &raquo;--></a>
          </strong>
        </p>
        <p>
          {{#prevDino}}
          <a href="/{{prevDino}}-dinosaur-pictures">&laquo; {{ prevDino }}</a>
          &middot;
          {{/prevDino}}

          {{ dino }}

          {{#nextDino}}
          &middot;
          <a href="/{{nextDino}}-dinosaur-pictures">{{ nextDino }} &raquo;</a>
          {{/nextDino}}
        </p>
        <p>
          <a href="/">More dinosaur pictures</a> &middot; <a href="/random">Random dinosaur</a>
        </p>
      </h4>

    </div> <!-- end container-fluid -->

    {{! TODO similar dinos }}

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/unveil/1.3.0/jquery.unveil.min.js"></script>
    <script>
      $(function() {
        $('.img-container img').unveil();

        var $focusedImageContainer = null;
        $('.img-container').on('mouseover', function() {
          $focusedImageContainer = $(this).css('border-color', 'red');
        }).on('mouseout', function() {
          $(this).css('border-color', 'black');
        });

        $('body').on('keypress', function(e) {
          if (String.fromCharCode(e.keyCode) == 'x') {
            $focusedImageContainer.hide('fast');
            $.get('/report?url=' +
                encodeURIComponent($focusedImageContainer.data('url')) +
                '&dino=' + '{{dino}}');
          } else if (String.fromCharCode(e.keyCode) == 'a') {
            $focusedImageContainer.hide('fast', function() {
              $(this).show('fast');
            });
            $.get('/featurevote?url=' +
                encodeURIComponent($focusedImageContainer.data('url')) +
                '&dino=' + '{{dino}}');
          } else if (String.fromCharCode(e.keyCode) == 'q') {
            window.location.href = $('#next-dino').attr('href');
          }
        });

        $('.report').on('click', function() {
          var $this = $(this);
          $this.parent().hide('fast');
          $.get('/report?url=' +
              encodeURIComponent($this.data('url')) +
              '&dino=' + '{{dino}}');
        });

        $('.featurevote').on('click', function() {
          var $this = $(this);
          $this.parent().hide('fast', function() {
            $this.parent().show('fast');
          });
          $.get('/featurevote?url=' +
              encodeURIComponent($this.data('url')) +
              '&dino=' + '{{dino}}');
        });
      });
    </script>

    <!-- start Mixpanel --><script type="text/javascript">(function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);
mixpanel.init("c46b3dfff827de823f35a442a22a1ab8");</script><!-- end Mixpanel -->
    <script>mixpanel.track('dino', {dino: '{{dino}}'});</script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-62588220-1', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
